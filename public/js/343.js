/*! For license information please see 343.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[343],{5232:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(3645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".modal-body[data-v-1f6329d0]{height:500px;overflow-x:scroll}.modal-body[data-v-1f6329d0],.modal-content[data-v-1f6329d0],.modal-header[data-v-1f6329d0],.modal-title[data-v-1f6329d0]{background-color:#2c3e50;color:#fff}.modal-backdrop[data-v-1f6329d0]{background-color:rgba(0,0,0,.5)}.close[data-v-1f6329d0]{color:#fff}",""]);const a=n},8314:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(3645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".modal-overlay[data-v-67d96adb]{background-color:rgba(0,0,0,.5);height:100%;left:0;position:fixed;top:0;width:100%;z-index:999}.modal-body[data-v-67d96adb]{height:500px;overflow-y:scroll}.modal-body[data-v-67d96adb],.modal-content[data-v-67d96adb],.modal-header[data-v-67d96adb],.modal-title[data-v-67d96adb]{background-color:#2c3e50;color:#fff}.modal-backdrop[data-v-67d96adb]{background-color:rgba(0,0,0,.5)}.close[data-v-67d96adb]{color:#fff}",""]);const a=n},2234:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(3645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,"label{color:#fff!important}",""]);const a=n},3226:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(3645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,".col-md-3 .store-select[data-v-b56ca262]{width:172%}",""]);const a=n},6928:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(3645),n=r.n(o)()((function(e){return e[1]}));n.push([e.id,"",""]);const a=n},4449:(e,t,r)=>{r.d(t,{Z:()=>K});var o=r(821),n=function(e){return(0,o.pushScopeId)("data-v-67d96adb"),e=e(),(0,o.popScopeId)(),e},a={class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},l={class:"modal-overlay"},c={class:"modal-dialog",role:"document"},i={class:"modal-content"},s={class:"modal-header"},d=n((function(){return(0,o.createElementVNode)("h5",{class:"modal-title"},"Edit Customer",-1)})),u=[n((function(){return(0,o.createElementVNode)("span",null,"Ã—",-1)}))],m={class:"modal-body"},f={class:"form-group"},h=n((function(){return(0,o.createElementVNode)("label",{for:"first_name"},"First Name:",-1)})),p={class:"form-group"},v=n((function(){return(0,o.createElementVNode)("label",{for:"last_name"},"Last Name:",-1)})),y={class:"form-group"},g=n((function(){return(0,o.createElementVNode)("label",{for:"email"},"Email:",-1)})),b={class:"form-group"},w=n((function(){return(0,o.createElementVNode)("label",{for:"phone"},"Phone:",-1)})),E={class:"form-group"},N=n((function(){return(0,o.createElementVNode)("label",{for:"address1"},"Address:",-1)})),V=["onUpdate:modelValue"],C={class:"form-group"},k=n((function(){return(0,o.createElementVNode)("label",{for:"city"},"City:",-1)})),x=["onUpdate:modelValue"],S={class:"form-group"},L=n((function(){return(0,o.createElementVNode)("label",{for:"province"},"Province:",-1)})),_=["onUpdate:modelValue"],D={class:"form-group"},O=n((function(){return(0,o.createElementVNode)("label",{for:"zip"},"Zip Code:",-1)})),A=["onUpdate:modelValue"],j={class:"form-group"},I=n((function(){return(0,o.createElementVNode)("label",{for:"country"},"Country:",-1)})),M=["onUpdate:modelValue"],P={class:"modal-footer"};var F=r(9680),B=r(6455),T=r.n(B);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function Z(){Z=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,l=Object.create(a.prototype),c=new k(n||[]);return o(l,"_invoke",{value:E(e,r,c)}),l}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function m(){}function f(){}function h(){}var p={};i(p,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&r.call(y,a)&&(p=y);var g=h.prototype=m.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,l,c){var i=d(e[o],e,a);if("throw"!==i.type){var s=i.arg,u=s.value;return u&&"object"==U(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):t.resolve(u).then((function(e){s.value=e,l(s)}),(function(e){return n("throw",e,l,c)}))}c(i.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function E(e,t,r){var o="suspendedStart";return function(n,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===n)throw a;return S()}for(r.method=n,r.arg=a;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===o)throw o="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o="executing";var i=d(e,t,r);if("normal"===i.type){if(o=r.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(o="completed",r.method="throw",r.arg=i.arg)}}}function N(e,t){var r=t.method,o=e.iterator[r];if(void 0===o)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),u;var n=d(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function V(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(V,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:f,configurable:!0}),f.displayName=i(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,i(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),i(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,o,n,a){void 0===a&&(a=Promise);var l=new w(s(t,r,o,n),a);return e.isGeneratorFunction(r)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},b(g),i(g,c,"Generator"),i(g,a,(function(){return this})),i(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=x,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(r,o){return l.type="throw",l.arg=e,t.next=r,o&&(t.method="next",t.arg=void 0),!!o}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),i=r.call(a,"finallyLoc");if(c&&i){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;C(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function z(e,t,r,o,n,a,l){try{var c=e[a](l),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(o,n)}const G={props:["customer"],data:function(){return{editedCustomer:{}}},watch:{customer:{immediate:!0,handler:function(e){this.editedCustomer=Object.assign({},e)}}},methods:{closeModal:function(){this.$emit("close")},updateCustomer:function(){var e,t=this;return(e=Z().mark((function e(){var r,o;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.showLoadingAlert(),r=localStorage.getItem("selectedStore"),o="/customers/"+t.customer.id+"/"+r,F.Inertia.put(o,t.editedCustomer,{onSuccess:function(e){t.$emit("close"),t.closeLoadingAlert()},onError:function(e){T().fire({icon:"error",title:"Oops...",text:e})},onFinish:function(){t.$emit("customersUpdated")}});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function l(e){z(a,o,n,l,c,"next",e)}function c(e){z(a,o,n,l,c,"throw",e)}l(void 0)}))})()},showLoadingAlert:function(){T().fire({title:"Please wait...",html:"Data is being processed.",allowOutsideClick:!1,didOpen:function(){T().showLoading()}})},closeLoadingAlert:function(){T().close()}}};var R=r(3379),q=r.n(R),$=r(8314),Y={insert:"head",singleton:!1};q()($.Z,Y);$.Z.locals;const K=(0,r(3744).Z)(G,[["render",function(e,t,r,n,F,B){var T=(0,o.resolveComponent)("card");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",s,[d,(0,o.createElementVNode)("button",{type:"button",class:"close",onClick:t[0]||(t[0]=function(){return B.closeModal&&B.closeModal.apply(B,arguments)})},u)]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",f,[h,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",id:"first_name","onUpdate:modelValue":t[1]||(t[1]=function(e){return F.editedCustomer.first_name=e})},null,512),[[o.vModelText,F.editedCustomer.first_name]])]),(0,o.createElementVNode)("div",p,[v,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",id:"last_name","onUpdate:modelValue":t[2]||(t[2]=function(e){return F.editedCustomer.last_name=e})},null,512),[[o.vModelText,F.editedCustomer.last_name]])]),(0,o.createElementVNode)("div",y,[g,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":t[3]||(t[3]=function(e){return F.editedCustomer.email=e})},null,512),[[o.vModelText,F.editedCustomer.email]])]),(0,o.createElementVNode)("div",b,[w,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"number",class:"form-control",id:"phone","onUpdate:modelValue":t[4]||(t[4]=function(e){return F.editedCustomer.phone=e})},null,512),[[o.vModelText,F.editedCustomer.phone]])]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(F.editedCustomer.addresses,(function(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t},[(0,o.createVNode)(T,null,{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",E,[N,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",id:"address1","onUpdate:modelValue":function(t){return e.address1=t}},null,8,V),[[o.vModelText,e.address1]])]),(0,o.createElementVNode)("div",C,[k,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",id:"city","onUpdate:modelValue":function(t){return e.city=t}},null,8,x),[[o.vModelText,e.city]])]),(0,o.createElementVNode)("div",S,[L,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",id:"province","onUpdate:modelValue":function(t){return e.province=t}},null,8,_),[[o.vModelText,e.province]])]),(0,o.createElementVNode)("div",D,[O,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",id:"zip","onUpdate:modelValue":function(t){return e.zip=t}},null,8,A),[[o.vModelText,e.zip]])]),(0,o.createElementVNode)("div",j,[I,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",id:"country","onUpdate:modelValue":function(t){return e.country=t}},null,8,M),[[o.vModelText,e.country]])])]})),_:2},1024)])})),128))]),(0,o.createElementVNode)("div",P,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-secondary",onClick:t[5]||(t[5]=function(){return B.closeModal&&B.closeModal.apply(B,arguments)})},"Close"),(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary",onClick:t[6]||(t[6]=function(){return B.updateCustomer&&B.updateCustomer.apply(B,arguments)})},"Save changes")])])])])])}],["__scopeId","data-v-67d96adb"]])},7343:(e,t,r)=>{r.r(t),r.d(t,{default:()=>vt});var o=r(821),n=function(e){return(0,o.pushScopeId)("data-v-b56ca262"),e=e(),(0,o.popScopeId)(),e},a={class:"nk-content"},l={class:"container"},c={class:"nk-content-inner"},i={class:"nk-content-body"},s={class:"nk-block-head nk-block-head-sm"},d={class:"nk-block-between g-3"},u={class:"nk-block-head-content"},m=(0,o.createStaticVNode)('<div class="nk-block-head-content" data-v-b56ca262><nav data-v-b56ca262><ul class="breadcrumb breadcrumb-arrow" data-v-b56ca262><li class="breadcrumb-item" data-v-b56ca262><a href="/" data-v-b56ca262>Home</a></li><li class="breadcrumb-item active" data-v-b56ca262>Customers</li></ul></nav></div>',1),f={class:"nk-block"},h={class:"card card-bordered card-stretch"},p={class:"card-inner-group"},v=n((function(){return(0,o.createElementVNode)("div",null,null,-1)})),y={class:"card-inner position-relative card-tools-toggle"},g={class:"nk-block-des text-soft"},b={class:"card-tools"},w={class:"row gx-3 gy-2 align-items-center"},E={class:"col-md-3"},N={class:"form-control-wrap"},V={class:"col-md-3"},C={class:"form-control-wrap"},k={class:"col-md-3"},x={class:"form-control-wrap"},S={class:"col-md-3"},L={class:"form-control-wrap"},_={class:"row gx-3 gy-2 align-items-center mt-2"},D={class:"col-md-3"},O={class:"form-control-wrap"},A={class:"col-md-3"},j={class:"form-control-wrap"},I={class:"col-md-3"},M={class:"form-control-wrap"},P=n((function(){return(0,o.createElementVNode)("div",{class:"col-md-3"},null,-1)})),F={class:"col-md-3"},B={class:"form-wrap w-150px"},T=[n((function(){return(0,o.createElementVNode)("option",{value:"default",disabled:""},"Select action",-1)})),n((function(){return(0,o.createElementVNode)("option",{value:"delete"},"Delete Customer",-1)}))],U={class:"col-md-3"},Z={class:"btn-wrap"},z={class:"d-none d-md-block"},G=["disabled"],R={class:"d-md-none"},q=["disabled"],$=[n((function(){return(0,o.createElementVNode)("em",{class:"icon ni ni-arrow-right"},null,-1)}))],Y={class:"col-md-3"},K={class:"form-wrap w-150px"},Q=["value"],W={class:"col d-flex justify-content-end"},H={class:"toggle-wrap nk-block-tools-toggle"},J=n((function(){return(0,o.createElementVNode)("a",{href:"#",class:"btn btn-icon btn-trigger toggle-expand me-n1","data-target":"pageMenu"},[(0,o.createElementVNode)("em",{class:"icon ni ni-menu-alt-r"})],-1)})),X={class:"toggle-expand-content","data-content":"pageMenu"},ee={class:"nk-block-tools g-3"},te={class:"nk-block-tools-opt"},re={class:"drodown"},oe=n((function(){return(0,o.createElementVNode)("a",{href:"#",class:"dropdown-toggle btn btn-icon btn-primary","data-bs-toggle":"dropdown"},[(0,o.createElementVNode)("em",{class:"icon ni ni-plus"})],-1)})),ne={class:"dropdown-menu dropdown-menu-end"},ae={class:"link-list-opt no-bdr"},le=[n((function(){return(0,o.createElementVNode)("span",null,"Add Customer",-1)}))],ce={class:"btn-wrap mr-2"},ie=n((function(){return(0,o.createElementVNode)("em",{class:"icon ni ni-search"},null,-1)})),se={class:"card-inner p-0"},de={class:"user-card"},ue={class:"user-avatar bg-primary"},me={class:"user-info"},fe={class:"tb-lead"},he=["onMouseenter"],pe={class:"nk-tb-actions gx-1"},ve=["onClick"],ye=[n((function(){return(0,o.createElementVNode)("em",{class:"icon ni ni-edit-alt"},null,-1)}))];var ge=function(e){return(0,o.pushScopeId)("data-v-1f6329d0"),e=e(),(0,o.popScopeId)(),e},be={key:0,class:"modal fade show",id:"modalForm","aria-modal":"true",role:"dialog",style:{display:"block"}},we={class:"modal-dialog modal-lg",role:"document"},Ee={class:"modal-content"},Ne={class:"modal-header"},Ve=ge((function(){return(0,o.createElementVNode)("h5",{class:"modal-title"},"Customer Info",-1)})),Ce=[ge((function(){return(0,o.createElementVNode)("em",{class:"icon ni ni-cross"},null,-1)}))],ke={class:"modal-body"},xe={key:1,class:"modal-backdrop fade show",style:{display:"block"}};var Se={key:1},Le=["for"],_e={class:"invalid"},De={key:2},Oe=["for"],Ae={class:"form-control-wrap"},je={class:"invalid"},Ie=["id","name","value"],Me=(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",{class:"form-group"},[(0,o.createElementVNode)("button",{type:"submit",class:"btn btn-lg btn-primary"},"Save Informations")])],-1);var Pe=r(2954);const Fe={components:{Field:Pe.gN,Form:Pe.l0,ErrorMessage:Pe.Bc,FieldArray:Pe.F2},props:{formSchema:{type:Array,required:!0},formData:{type:Object,required:!0},addField:{type:Function,required:!1},submitForm:{type:Function,required:!1},formRenderKey:{type:Number,required:!0},storeId:String}};var Be=r(3379),Te=r.n(Be),Ue=r(2234),Ze={insert:"head",singleton:!1};Te()(Ue.Z,Ze);Ue.Z.locals;var ze=r(3744);const Ge=(0,ze.Z)(Fe,[["render",function(e,t,r,n,a,l){var c=(0,o.resolveComponent)("Field"),i=(0,o.resolveComponent)("ErrorMessage"),s=(0,o.resolveComponent)("FieldArray"),d=(0,o.resolveComponent)("Form");return(0,o.openBlock)(),(0,o.createBlock)(d,{onSubmit:r.submitForm,"initial-values":r.formData,key:r.formRenderKey},{default:(0,o.withCtx)((function(){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.formSchema,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"form-group",key:e.model},["array"===e.type?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,onClick:t[0]||(t[0]=function(e){return r.addField("addresses")}),type:"button",class:"btn btn-lg btn-primary"},"Add Address")):(0,o.createCommentVNode)("",!0),"array"===e.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Se,[(0,o.createVNode)(s,{name:e.model},{default:(0,o.withCtx)((function(t){var n=t.fields;return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n,(function(t,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:n},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.schema,(function(t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.model},[(0,o.createElementVNode)("label",{class:"form-label",for:t.model},(0,o.toDisplayString)(t.label),9,Le),(0,o.createVNode)(c,{id:"".concat(e.model,"-").concat(t.model,"-").concat(n),name:"".concat(e.model,"[").concat(n,"].").concat(t.model),modelValue:r.formData[e.model][n][t.model],"onUpdate:modelValue":function(o){return r.formData[e.model][n][t.model]=o},type:t.type,class:(0,o.normalizeClass)(t.class)},null,8,["id","name","modelValue","onUpdate:modelValue","type","class"]),(0,o.createElementVNode)("span",_e,[(0,o.createVNode)(i,{name:"".concat(e.model,"[").concat(n,"].").concat(t.model)},null,8,["name"])])])})),128))])})),128))]})),_:2},1032,["name"])])):(0,o.createCommentVNode)("",!0),"array"!==e.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",De,[(0,o.createElementVNode)("label",{class:"form-label",for:e.model},(0,o.toDisplayString)(e.label),9,Oe),(0,o.createElementVNode)("div",Ae,[(0,o.createVNode)(c,{class:(0,o.normalizeClass)(e.class),id:e.model,name:e.model,type:e.type,rules:e.rules,modelValue:r.formData[e.model],"onUpdate:modelValue":function(t){return r.formData[e.model]=t}},null,8,["class","id","name","type","rules","modelValue","onUpdate:modelValue"]),(0,o.createElementVNode)("span",je,[(0,o.createVNode)(i,{class:"invalid",name:e.model},null,8,["name"])])])])):(0,o.createCommentVNode)("",!0)])})),128)),(0,o.createElementVNode)("input",{id:e.shop,name:e.shop,value:r.storeId,hidden:""},null,8,Ie),Me]})),_:1},8,["onSubmit","initial-values"])}]]);var Re=r(9680);function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function $e(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Qe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==qe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==qe(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const We={data:function(){return{formData:this.getInitialFormData(),formRenderKey:0,storeId:this.storeId}},components:{DynamicForm:Ge},props:{showCustomerModal:Boolean,customerData:Object,storeId:String,formSchema:{type:Array,required:!0}},watch:{showCustomerModal:function(e){e&&this.populateFormData()}},methods:{closeModal:function(){Object.assign(this.formData,this.getInitialFormData()),this.$emit("update:showCustomerModal",!1)},getInitialFormData:function(){return{first_name:"",last_name:"",email:"",phone:"",addresses:[this.getDefaultAddress()],shop:this.storeId}},getDefaultAddress:function(){return{address1:"",city:"",province:"",zip:"",country:""}},populateFormData:function(){this.customerData?this.formData=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){Qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.customerData):Object.assign(this.formData,this.getInitialFormData())},addField:function(e){var t=this.getDefaultItemForArray(e);t&&(this.formData[e]=[].concat($e(this.formData[e]),[t]),this.formRenderKey++)},getDefaultItemForArray:function(e){return"addresses"===e?{address1:"",city:"",province:"",zip:"",country:""}:null},submitForm:function(){var e=this,t=this.customerData?"/customers/".concat(this.customerData.id):"/customers/",r=this.customerData?"put":"post";Re.Inertia[r](t,this.formData,{onSuccess:function(t){e.closeModal(),e.$emit("customersUpdated",t.props.customers)},onError:function(e){}})}}};var He=r(5232),Je={insert:"head",singleton:!1};Te()(He.Z,Je);He.Z.locals;const Xe=(0,ze.Z)(We,[["render",function(e,t,r,n,a,l){var c=(0,o.resolveComponent)("dynamic-form");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[r.showCustomerModal?((0,o.openBlock)(),(0,o.createElementBlock)("div",be,[(0,o.createElementVNode)("div",we,[(0,o.createElementVNode)("div",Ee,[(0,o.createElementVNode)("div",Ne,[Ve,(0,o.createElementVNode)("button",{type:"button",class:"close",onClick:t[0]||(t[0]=function(){return l.closeModal&&l.closeModal.apply(l,arguments)})},Ce)]),(0,o.createElementVNode)("div",ke,[(0,o.createVNode)(c,{"submit-form":l.submitForm,"form-render-key":a.formRenderKey,"form-data":a.formData,formSchema:r.formSchema,storeId:r.storeId,"add-field":l.addField},null,8,["submit-form","form-render-key","form-data","formSchema","storeId","add-field"])])])])])):(0,o.createCommentVNode)("",!0),r.showCustomerModal?((0,o.openBlock)(),(0,o.createElementBlock)("div",xe)):(0,o.createCommentVNode)("",!0)])}],["__scopeId","data-v-1f6329d0"]]);var et,tt=r(4449),rt=r(5842),ot=r(7948),nt=r(6455),at=r.n(nt);function lt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ct(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==ct(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ct(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function it(){it=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,l=Object.create(a.prototype),c=new k(n||[]);return o(l,"_invoke",{value:E(e,r,c)}),l}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function m(){}function f(){}function h(){}var p={};i(p,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&r.call(y,a)&&(p=y);var g=h.prototype=m.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,l,c){var i=d(e[o],e,a);if("throw"!==i.type){var s=i.arg,u=s.value;return u&&"object"==ct(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):t.resolve(u).then((function(e){s.value=e,l(s)}),(function(e){return n("throw",e,l,c)}))}c(i.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function E(e,t,r){var o="suspendedStart";return function(n,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===n)throw a;return S()}for(r.method=n,r.arg=a;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===o)throw o="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o="executing";var i=d(e,t,r);if("normal"===i.type){if(o=r.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(o="completed",r.method="throw",r.arg=i.arg)}}}function N(e,t){var r=t.method,o=e.iterator[r];if(void 0===o)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),u;var n=d(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function V(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(V,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=h,o(g,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:f,configurable:!0}),f.displayName=i(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,i(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),i(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,o,n,a){void 0===a&&(a=Promise);var l=new w(s(t,r,o,n),a);return e.isGeneratorFunction(r)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},b(g),i(g,c,"Generator"),i(g,a,(function(){return this})),i(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=x,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(r,o){return l.type="throw",l.arg=e,t.next=r,o&&(t.method="next",t.arg=void 0),!!o}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),i=r.call(a,"finallyLoc");if(c&&i){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;C(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function st(e,t,r,o,n,a,l){try{var c=e[a](l),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(o,n)}function dt(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function l(e){st(a,o,n,l,c,"next",e)}function c(e){st(a,o,n,l,c,"throw",e)}l(void 0)}))}}const ut=(lt(et={mounted:function(){var e=this;dt(it().mark((function t(){var r,o;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.initializeSearchFromQuery(e.$props.query),""==e.search.store_name||null==e.search.store_name){t.next=12;break}if(r=e.search.store_name.toLowerCase().replace(/\s/g,""),!(o=e.storeOptions.find((function(e){return e.label.toLowerCase().replace(/\s/g,"")===r})))){t.next=9;break}localStorage.setItem("selectedStore",o.value),localStorage.setItem("shopName",o.label),t.next=12;break;case 9:if(!e.search.store_name){t.next=12;break}return t.next=12,at().fire({icon:"error",title:"Oops...",text:"The store name does not exist!",confirmButtonText:"Ok"}).then((function(e){if(e.isConfirmed){localStorage.removeItem("selectedStore");var t=new URL(window.location);t.searchParams.delete("store_name"),window.history.pushState({},"",t),window.location.reload()}}));case 12:if(null!=localStorage.getItem("selectedStore")){t.next=16;break}e.shopName=e.shop.shopify_name,t.next=20;break;case 16:return e.shopName=localStorage.getItem("shopName"),e.selectedShop=localStorage.getItem("selectedStore"),t.next=20,e.searchCustomers();case 20:e.hasQueryParams()&&(e.performSearch(),e.$nextTick((function(){if(1===e.displayedCustomers.length){var t=e.displayedCustomers[0].id;e.navigateWithInertiaEvents("/customer/".concat(t,"/").concat(e.selectedShop),{onStart:function(){e.showLoadingAlert()},onFinish:function(){e.closeLoadingAlert()}})}})));case 21:case"end":return t.stop()}}),t)})))()},computed:{storeOptions:function(){return this.stores.map((function(e){return{label:e.shopify_name,value:e.id}}))},isAnyCustomerSelected:function(){return this.selectedCustomers.length>0},hasErrors:function(){if(Array.isArray(this.errors)&&this.errors.length>0)return!0;if(this.errors&&"object"===ct(this.errors)&&Object.keys(this.errors).length>0){var e=this.errors.errors;return Object.keys(e).length>0}return!1}},watch:{hasErrors:function(e){if(e)if(Array.isArray(this.errors))this.errors.forEach((function(e){return console.error(e)}));else if(e&&"object"===ct(this.errors)&&null!==this.errors){var t=this.errors.errors;Object.keys(t).forEach((function(e){Array.isArray(t[e])&&t[e].forEach((function(t){return console.error(e+": "+t)}))}))}}},components:{CustomerModal:Xe,DataTable:rt.Z,Column:ot.Z,CustomerUpdateModal:tt.Z},props:{query:{type:[Array,Object],default:function(){return[]}},customers:Array,stores:{type:Array,default:function(){return[]}},shop:Object,testData:String,errors:{type:[Array,Object],default:function(){return[]}}},data:function(){return{isLoading:!1,selectedCustomers:[],selectedAction:"default",selectedShop:this.shop.id,selectAll:!1,editingCustomer:null,showCustomerModal:!1,localCustomers:this.customers,displayedCustomers:[],shop:this.shop,shopName:this.shop.shopify_name,customerCount:this.customers.length,stores:this.stores,testData:this.testData,selectedCustomerUpdate:null,customerSchema:[{type:"text",label:"First Name",model:"first_name",rules:"required",class:"form-control"},{type:"text",label:"Last Name",model:"last_name",rules:"required",class:"form-control"},{type:"email",label:"Email",model:"email",rules:"required|email",class:"form-control"},{type:"tel",label:"Phone",model:"phone",class:"form-control"},{type:"array",model:"addresses",label:"Addresses",schema:[{type:"text",label:"Address",model:"address1",class:"form-control"},{type:"text",label:"City",model:"city",class:"form-control"},{type:"text",label:"Province",model:"province",class:"form-control"},{type:"text",label:"ZIP Code",model:"zip",class:"form-control"},{type:"text",label:"Country",model:"country",class:"form-control"}]}],search:{customer_id:"",first_name:"",last_name:"",phone:"",email:"",zip:"",province:"",store_name:""}}}},"watch",{localCustomers:function(e,t){this.performSearch()}}),lt(et,"methods",{updateCustomerDetails:function(e){this.selectedCustomerUpdate=e},closeUpdateCustomer:function(){this.selectedCustomerUpdate=null,this.searchCustomers()},searchCustomers:function(){var e=this;return dt(it().mark((function t(){var r,o,n,a;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.showLoadingAlert(),null!=(r=e.selectedShop)){t.next=9;break}return t.next=6,fetch("/customers-search?shop='none'");case 6:o=t.sent,t.next=12;break;case 9:return t.next=11,fetch("/customers-search?shop=".concat(r));case 11:o=t.sent;case 12:if(o.ok){t.next=14;break}throw new Error("Network response was not ok");case 14:return t.next=16,o.json();case 16:return n=t.sent,e.localCustomers=n,e.displayedCustomers=[],localStorage.setItem("selectedStore",e.selectedShop),e.customerCount=e.localCustomers.length,a=e.stores.find((function(t){return t.id==e.selectedShop})),e.shopName=a.shopify_name,localStorage.setItem("shopName",e.shopName),t.abrupt("return",n);case 27:t.prev=27,t.t0=t.catch(0),console.error("Error fetching customers:",t.t0);case 30:return t.prev=30,e.closeLoadingAlert(),t.finish(30);case 33:case"end":return t.stop()}}),t,null,[[0,27,30,33]])})))()},onRowSelected:function(e){var t=this;localStorage.setItem("selectedStore",this.selectedShop);var r=e.data;r&&r.id&&this.navigateWithInertiaEvents("/customer/".concat(r.id,"/").concat(this.selectedShop),{onStart:function(){t.showLoadingAlert()},onFinish:function(){t.closeLoadingAlert()}})},showLoadingAlert:function(){at().fire({title:"Please wait...",html:"Data is being processed.",allowOutsideClick:!1,didOpen:function(){at().showLoading()}})},closeLoadingAlert:function(){at().close()},initializeSearchFromQuery:function(e){this.search.customer_id=e.customer_id||"",this.search.first_name=e.first_name||"",this.search.last_name=e.last_name||"",this.search.phone=e.phone||"",this.search.email=e.email||"",this.search.zip=e.zip||"",this.search.province=e.province||"",this.search.store_name=e.store_name||""},hasQueryParams:function(){var e=this.$props.query;return Object.keys(e).length>0},getInitials:function(e,t){return(e?e.charAt(0):"")+(t?t.charAt(0):"")||""},performSelectedAction:function(){"delete"===this.selectedAction?this.deleteCustomers():this.selectedAction},deleteCustomers:function(){var e=this;return dt(it().mark((function t(){var r;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete them!",cancelButtonText:"No, cancel!"});case 2:if(!t.sent.isConfirmed){t.next=10;break}if(0!==(r=e.selectedCustomers.map((function(e){return e.id}))).length){t.next=8;break}return at().fire("Error","Please select at least one customer to delete.","error"),t.abrupt("return");case 8:e.showLoadingAlert(),Re.Inertia.post("/customers/delete",{customer_ids:r,shop:e.selectedShop},{onSuccess:function(t){t.props.customers&&(e.refreshCustomerList(t.props.customers),e.searchCustomers(),e.displayedCustomers=[],e.$nextTick((function(){e.closeLoadingAlert(),at().fire("Deleted!","Your file has been deleted.","success")})))},onError:function(t){console.error("Error deleting customers:",t),e.closeLoadingAlert(),at().fire("Failed!","There was an error deleting the customers.","error")}});case 10:case"end":return t.stop()}}),t)})))()},editCustomer:function(e){this.editingCustomer=e,this.toggleCustomerModal()},toggleCustomerModal:function(){this.showCustomerModal=!this.showCustomerModal},getAddress:function(e){return e.addresses&&e.addresses[0]&&e.addresses[0].address1?e.addresses[0].address1:"N/A"},refreshCustomerList:function(e){this.performSearch(),this.localCustomers=e,this.selectedCustomers=[]},performSearch:function(){var e=this;this.showLoadingAlert(),setTimeout((function(){at().close()}),2e3),localStorage.setItem("selectedStore",this.selectedShop),this.customerCount=this.localCustomers.length;var t=this.stores.find((function(t){return t.id==e.selectedShop}));this.shopName=t.shopify_name,localStorage.setItem("shopName",this.shopName),this.displayedCustomers=[];var r=!(this.search.customer_id||this.search.first_name||this.search.last_name||this.search.phone||this.search.email||this.search.zip||this.search.province);this.displayedCustomers=r?[]:this.localCustomers.filter((function(t){var r=t.addresses&&t.addresses.some((function(t){return(""===e.search.zip||t.zip&&t.zip.toLowerCase().includes(e.search.zip.toLowerCase()))&&(""===e.search.province||t.province&&t.province.toLowerCase().includes(e.search.province.toLowerCase()))}));return(""===e.search.customer_id||t.id&&t.id.toString().toLowerCase().includes(e.search.customer_id.toLowerCase()))&&(""===e.search.first_name||t.first_name&&t.first_name.toLowerCase().includes(e.search.first_name.toLowerCase()))&&(""===e.search.last_name||t.last_name&&t.last_name.toLowerCase().includes(e.search.last_name.toLowerCase()))&&(""===e.search.phone||t.phone&&t.phone.toLowerCase().includes(e.search.phone.toLowerCase()))&&(""===e.search.email||t.email&&t.email.toLowerCase().includes(e.search.email.toLowerCase()))&&(!t.addresses||r)}))},navigateWithInertiaEvents:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onStart,o=void 0===r?function(){}:r,n=t.onFinish,a=void 0===n?function(){}:n;Re.Inertia.on("start",(function e(){o(),Re.Inertia.off("start",e)})),Re.Inertia.on("finish",(function e(t){t.detail.visit.completed&&(a(),Re.Inertia.off("finish",e))})),Re.Inertia.visit(e)}}),et);var mt=r(3226),ft={insert:"head",singleton:!1};Te()(mt.Z,ft);mt.Z.locals;var ht=r(6928),pt={insert:"head",singleton:!1};Te()(ht.Z,pt);ht.Z.locals;const vt=(0,ze.Z)(ut,[["render",function(e,t,r,n,ge,be){var we=this,Ee=(0,o.resolveComponent)("Toast"),Ne=(0,o.resolveComponent)("customer-modal"),Ve=(0,o.resolveComponent)("Column"),Ce=(0,o.resolveComponent)("DataTable"),ke=(0,o.resolveComponent)("CustomerUpdateModal");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(Ee),(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("h4",null,(0,o.toDisplayString)(this.shopName),1)]),m])]),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",p,[v,(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",g,[(0,o.createElementVNode)("p",null,"You have total "+(0,o.toDisplayString)(ge.customerCount)+" customers.",1)]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",w,[(0,o.createElementVNode)("div",E,[(0,o.createElementVNode)("div",N,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Customer ID","onUpdate:modelValue":t[0]||(t[0]=function(e){return ge.search.customer_id=e})},null,512),[[o.vModelText,ge.search.customer_id]])])]),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("div",C,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"First Name","onUpdate:modelValue":t[1]||(t[1]=function(e){return ge.search.first_name=e})},null,512),[[o.vModelText,ge.search.first_name]])])]),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("div",x,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Last Name","onUpdate:modelValue":t[2]||(t[2]=function(e){return ge.search.last_name=e})},null,512),[[o.vModelText,ge.search.last_name]])])]),(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("div",L,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Phone Number","onUpdate:modelValue":t[3]||(t[3]=function(e){return ge.search.phone=e})},null,512),[[o.vModelText,ge.search.phone]])])])]),(0,o.createElementVNode)("div",_,[(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("div",O,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":t[4]||(t[4]=function(e){return ge.search.email=e})},null,512),[[o.vModelText,ge.search.email]])])]),(0,o.createElementVNode)("div",A,[(0,o.createElementVNode)("div",j,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Postal/Zip Code","onUpdate:modelValue":t[5]||(t[5]=function(e){return ge.search.zip=e})},null,512),[[o.vModelText,ge.search.zip]])])]),(0,o.createElementVNode)("div",I,[(0,o.createElementVNode)("div",M,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"State","onUpdate:modelValue":t[6]||(t[6]=function(e){return ge.search.province=e})},null,512),[[o.vModelText,ge.search.province]])])]),P,(0,o.createElementVNode)("div",F,[(0,o.createElementVNode)("div",B,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select js-select2 js-select2-sm","onUpdate:modelValue":t[7]||(t[7]=function(e){return ge.selectedAction=e}),"data-search":"off","data-placeholder":"Select action"},T,512),[[o.vModelSelect,ge.selectedAction]])])]),(0,o.createElementVNode)("div",U,[(0,o.createElementVNode)("div",Z,[(0,o.createElementVNode)("span",z,[(0,o.createElementVNode)("button",{class:"btn btn-dim btn-outline-light",disabled:!be.isAnyCustomerSelected,onClick:t[8]||(t[8]=function(){return be.performSelectedAction&&be.performSelectedAction.apply(be,arguments)})},"Apply",8,G)]),(0,o.createElementVNode)("span",R,[(0,o.createElementVNode)("button",{class:"btn btn-dim btn-outline-light btn-icon",disabled:!be.isAnyCustomerSelected,onClick:t[9]||(t[9]=function(){return be.performSelectedAction&&be.performSelectedAction.apply(be,arguments)})},$,8,q)])])]),(0,o.createElementVNode)("div",Y,[(0,o.createElementVNode)("div",K,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select store-select js-select2 js-select2-sm","onUpdate:modelValue":t[10]||(t[10]=function(e){return ge.selectedShop=e}),"data-search":"off",onChange:t[11]||(t[11]=function(){return be.searchCustomers&&be.searchCustomers.apply(be,arguments)}),"data-placeholder":"Select Store"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(be.storeOptions,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.value,value:e.value},(0,o.toDisplayString)(e.label),9,Q)})),128))],544),[[o.vModelSelect,ge.selectedShop]])])]),(0,o.createElementVNode)("div",W,[(0,o.createElementVNode)("div",H,[J,(0,o.createElementVNode)("div",X,[(0,o.createElementVNode)("ul",ee,[(0,o.createElementVNode)("li",te,[(0,o.createElementVNode)("div",re,[oe,(0,o.createElementVNode)("div",ne,[(0,o.createElementVNode)("ul",ae,[(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("a",{href:"#",onClick:t[12]||(t[12]=(0,o.withModifiers)((function(){return be.toggleCustomerModal&&be.toggleCustomerModal.apply(be,arguments)}),["prevent"]))},le)])])]),(0,o.createVNode)(Ne,{formSchema:ge.customerSchema,storeId:this.selectedShop,"customer-data":ge.editingCustomer,onCustomersUpdated:t[13]||(t[13]=function(e){return be.searchCustomers()}),"show-customer-modal":ge.showCustomerModal,"onUpdate:showCustomerModal":t[14]||(t[14]=function(e){return ge.showCustomerModal=e})},null,8,["formSchema","storeId","customer-data","show-customer-modal"])])])])])]),(0,o.createTextVNode)(" Â  "),(0,o.createElementVNode)("div",ce,[(0,o.createElementVNode)("button",{class:"btn btn-primary",onClick:t[15]||(t[15]=function(){return be.performSearch&&be.performSearch.apply(be,arguments)})},[ie,(0,o.createTextVNode)(" Search ")])])])])])]),(0,o.createElementVNode)("div",se,[(0,o.createVNode)(Ce,{sortMode:"multiple",selection:ge.selectedCustomers,"onUpdate:selection":t[17]||(t[17]=function(e){return ge.selectedCustomers=e}),removableSort:"",value:ge.displayedCustomers,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],dataKey:"id",class:"nk-tb-list nk-tb-ulist",metaKeySelection:!1,onRowClick:be.onRowSelected,paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{empty:(0,o.withCtx)((function(){return[(0,o.createTextVNode)(" No customers found. ")]})),default:(0,o.withCtx)((function(){return[(0,o.createVNode)(Ve,{selectionMode:"multiple"}),(0,o.createVNode)(Ve,{field:"customer",header:"Customer",sortable:"",styleClass:"nk-tb-col"},{body:(0,o.withCtx)((function(e){return[(0,o.createElementVNode)("div",de,[(0,o.createElementVNode)("div",ue,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(be.getInitials(e.data.first_name,e.data.last_name)),1)]),(0,o.createElementVNode)("div",me,[(0,o.createElementVNode)("span",fe,(0,o.toDisplayString)(e.data.first_name)+" "+(0,o.toDisplayString)(e.data.last_name),1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.data.email),1)])])]})),_:1}),(0,o.createVNode)(Ve,{field:"orders_count",header:"Order Count",sortable:"",styleClass:"nk-tb-col tb-col-md"}),(0,o.createVNode)(Ve,{field:"address",header:"Address",sortable:"",styleClass:"nk-tb-col tb-col-lg"},{body:(0,o.withCtx)((function(e){return[(0,o.createTextVNode)((0,o.toDisplayString)(we.getAddress(e.data)),1)]})),_:1}),(0,o.createVNode)(Ve,{field:"phone",header:"Phone",styleClass:"nk-tb-col tb-col-xxl"}),(0,o.createVNode)(Ve,{field:"created_at",header:"Creation Date",sortable:"",styleClass:"nk-tb-col tb-col-lg"}),(0,o.createVNode)(Ve,{field:"user"},{body:(0,o.withCtx)((function(r){return[(0,o.createElementVNode)("div",{class:"nk-tb-col nk-tb-col-tools",onMouseenter:function(t){return e.hoverOrder=r.data.id},onMouseleave:t[16]||(t[16]=function(t){return e.hoverOrder=null})},[(0,o.createElementVNode)("ul",pe,[(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("a",{href:"#",class:"btn btn-icon btn-trigger",onClick:(0,o.withModifiers)((function(e){return be.updateCustomerDetails(r.data)}),["prevent"])},ye,8,ve)])])])],40,he)]})),_:1})]})),_:1},8,["selection","value","onRowClick"])])])])]),ge.selectedCustomerUpdate?((0,o.openBlock)(),(0,o.createBlock)(ke,{key:0,customer:ge.selectedCustomerUpdate,onClose:be.closeUpdateCustomer},null,8,["customer","onClose"])):(0,o.createCommentVNode)("",!0)])])])])],64)}],["__scopeId","data-v-b56ca262"]])}}]);